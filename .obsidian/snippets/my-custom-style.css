/* 让所有表格更美观，且强制支持滑动 */
table {
    display: block; /* 核心：开启块级显示 */
    overflow-x: auto; /* 核心：溢出时自动显示滑动条 */
    width: 100%;
    border-collapse: collapse;
}

th, td {
    padding: 10px 15px !important; /* 增加内边距，让文字不拥挤 */
    min-width: 120px; /* 保证每列有最小宽度，从而触发滑动 */
}

/* 图片美化：圆角、阴影、居中 */
.markdown-rendered img {
    display: block;
    margin: 20px auto !important; /* 自动居中 */
    border-radius: 12px;         /* 圆角 */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); /* 柔和阴影 */
    transition: transform 0.3s ease; /* 增加悬浮缩放动画 */
}

/* 鼠标悬浮在图片上时轻微放大 */
.markdown-rendered img:hover {
    transform: scale(1.02);
}

/* 荧光笔高亮效果 */
mark {
    background-color: transparent;
    background-image: linear-gradient(120deg, rgba(255, 230, 0, 0.4) 0%, rgba(255, 230, 0, 0.4) 100%);
    background-repeat: no-repeat;
    background-size: 100% 40%; /* 高亮厚度：40% */
    background-position: 0 80%; /* 高亮位置 */
    color: inherit;
    padding: 0;
}

/* 标题自动编号 */
body {
    counter-reset: h1-count;
}

h1 { counter-reset: h2-count; counter-increment: h1-count; }
h2 { counter-reset: h3-count; counter-increment: h2-count; }

h1::before { content: counter(h1-count) ". "; }
h2::before { content: counter(h1-count) "." counter(h2-count) ". "; }

/* 弱化 Markdown 辅助符号 */
.cm-s-obsidian span.cm-formatting, 
.cm-s-obsidian span.cm-separator {
    opacity: 0.3; /* 透明度 30% */
    transition: opacity 0.2s;
}

.cm-s-obsidian span.cm-formatting:hover {
    opacity: 1; /* 鼠标靠近时恢复 */
}

/* 给 Info 类型的 Callout 添加渐变 */
.callout[data-callout="info"] {
    background: linear-gradient(135deg, rgba(0, 122, 255, 0.1) 0%, rgba(0, 200, 255, 0.05) 100%);
    border: 1px solid rgba(0, 122, 255, 0.2);
    border-left: 5px solid #007aff;
}

/* 给 important 类型的 Callout 添加渐变 */
.callout[data-callout="important"] {
    background: linear-gradient(135deg, rgba(0, 122, 255, 0.1) 0%, rgba(0, 200, 255, 0.05) 100%);
    border: 1px solid rgba(0, 122, 255, 0.2);
    border-left: 5px solid #007aff;
}

/* 强制覆盖所有模式下的 Info Callout 颜色 */
.callout[data-callout="info"] {
    --callout-color: 0, 122, 255; /* 蓝色 RGB 值 */
    background-color: rgba(0, 122, 255, 0.1) !important; /* 背景色 */
    border: 1px solid rgba(0, 122, 255, 0.2) !important;
}

/* 针对阅读模式的特殊强化 */
.markdown-rendered .callout[data-callout="info"] {
    background-color: rgba(0, 122, 255, 0.1) !important;
}

/* 如果你用了 Table Extended，确保它的表格背景透明，以便透出底色 */
.callout table {
    background-color: transparent !important;
}