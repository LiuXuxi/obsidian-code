原语，互斥与同步，挂起与阻塞，互斥锁和同步锁

> 一个进程被唤醒，意味着有另一个进程**释放了资源**，但这并不意味着释放者立即放弃了 CPU。释放者可能还在运行，只是它释放的资源让等待者有机会重新竞争 CPU。

- ✅ **释放资源 → 可能唤醒等待者**（当且仅当有人在等）
- ✅ **被唤醒 → 必定有释放者**
- ⚠️ **被唤醒 ≠ 释放者放弃 CPU**（释放者可能还在运行）

这正是信号量机制精妙之处：**资源的释放与进程的唤醒解耦，但又通过信号量值紧密关联**。

---
在记录型信号量中，`value` 的含义是：

- `value > 0`：还有 `value` 个资源可用。
- `value = 0`：资源刚好用完，没人等待。
- `value < 0`：资源用完，且有 `|value|` 个进程在等待队列中。

所以，当 `value` 变成 -1 时，它**同时表达了两个信息**：

1. 资源已耗尽。
2. 有 1 个进程在等。

如果你在睡着后 `value++`，你就抹掉了“有人在等”这个信息，系统就无法在资源释放时唤醒你。