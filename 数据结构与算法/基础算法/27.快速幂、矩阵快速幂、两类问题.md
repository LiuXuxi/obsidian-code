![[Pasted image 20260227201735.png]]


[1792. 最大平均通过率 - 力扣（LeetCode）](https://leetcode.cn/problems/maximum-average-pass-ratio/)
```cpp
class Solution {

public:

    double maxAverageRatio(vector<vector<int>>& classes, int extraStudents) {

        int n=classes.size();

        auto cmp=[](const vector<double>&a,const vector<double>&b){return a[2]<b[2];};

        priority_queue<vector<double>,vector<vector<double>>,decltype(cmp)>wait(cmp);

        for(auto&clas:classes){

            double a=clas[0],b=clas[1];

            wait.push({a,b,(a+1)/(b+1)-a/b});

        }

        while(extraStudents--){

            vector<double>cur=wait.top();

            wait.pop();

            double a=cur[0]+1,b=cur[1]+1;

            wait.push({a,b,(a+1)/(b+1)-a/b});

        }

        double ans=0;

        while(!wait.empty()){

            vector<double>cur=wait.top();

            wait.pop();

            ans+=cur[0]/cur[1];

        }

        return ans/n;

    }

};
```