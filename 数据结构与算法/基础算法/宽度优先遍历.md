![[Pasted image 20260210140113.png]]![[Pasted image 20260210140128.png]] 
[1162. 地图分析 - 力扣（LeetCode）](https://leetcode.cn/problems/as-far-from-land-as-possible/submissions/697724280/)

```cpp
class Solution {

public:

    vector<int>move{-1,0,1,0,-1};

  

    int maxDistance(vector<vector<int>>& grid) {

        int n=grid.size(),m=grid[0].size();

        int sea=0;

        queue<pair<int,int>>wait;

        vector<vector<bool>>visited(n,vector<bool>(m,false));

        for(int i=0;i<n;i++){

            for(int j=0;j<m;j++){

                if(grid[i][j]){

                    visited[i][j]=true;

                    wait.push({i,j});

                }else ++sea;

            }

        }

        if(sea==0||sea==n*m)return -1;

        int ans=0;

        while(!wait.empty()){

            ans++;

            int size=wait.size();

            for(int i=0;i<size;i++){

                pair<int,int>pos=wait.front();

                wait.pop();

                for(int j=0;j<4;j++){

                    int nx=pos.first+move[j];

                    int ny=pos.second+move[j+1];

                    if(nx>=0&&ny>=0&&nx<n&&ny<m&&visited[nx][ny]==false){

                        visited[nx][ny]=true;

                        wait.push({nx,ny});

                    }

                }

            }

        }

        return ans-1;

    }

};
```