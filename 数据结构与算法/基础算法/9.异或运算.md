>[!ABSTRACT]
>异或运算（Exclusive OR，简称 **XOR**）是计算机底层非常高效且神奇的二元逻辑运算。它的核心逻辑可以用一句话概括：**相同为 0，不同为 1**。
>在位运算符号中，通常用 `^` 表示。





---

## 1. 异或的基本规则

我们可以通过真值表来直观查看异或的运算结果：

|**A**|**B**|**A ^ B**|**解释**|
|---|---|---|---|
|0|0|**0**|相同|
|0|1|**1**|不同|
|1|0|**1**|不同|
|1|1|**0**|相同|

---

## 2. 异或的重要性质

掌握以下几个性质是解决算法题的关键：

1. **归零性：** $x \oplus x = 0$（任何数与自身异或，结果必为 0）。
    
2. **恒等性：** $x \oplus 0 = x$（任何数与 0 异或，结果不变）。
    
3. **交换律：** $a \oplus b = b \oplus a$。
    
4. **结合律：** $(a \oplus b) \oplus c = a \oplus (b \oplus c)$。

5. **逆运算性质：** 如果 $a \oplus b = c$，那么必有 $a \oplus c = b$ 以及 $b \oplus c = a$。（整体异或和如果是`x`，整体中某个部分的异或和如果是`y`，那么剩下部分的异或和是


---

## 3. 为什么叫“不进位加法”？

如果你观察二进制加法：

- $0 + 0 = 0$
    
- $0 + 1 = 1$
    
- $1 + 0 = 1$
    
- $1 + 1 = 10$ (二进制，即 0 进位 1)
    

你会发现异或的结果正好就是**二进制加法舍弃进位**后的结果。因此，在底层电路设计中，异或门是半加器的核心组件。


## 4. 异或的经典算法应用

由于异或具有“自反性”和“交换律”，它在处理**成对出现**的数据时非常强大。

### A. 找单出的数字（LeetCode 136）

**题目：** 给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。

- **思路：** 将数组中所有数字全部异或在一起。
    
- **原理：** 成对的数字会因为 $x \oplus x = 0$ 全部抵消掉，最后剩下的就是那个唯一的数字。
    

### B. 不使用临时变量交换两数

利用异或可以实现在不申请额外空间的情况下交换变量 $a$ 和 $b$：

1. `a = a ^ b;`
    
2. `b = a ^ b;` // 此时 b = (原来的 a ^ b) ^ b = 原来的 a
    
3. `a = a ^ b;` // 此时 a = (原来的 a ^ b) ^ 原来的 a = 原来的 b
    

### C. 提取二进制最后一位 1 (Lowbit)

正如你之前代码中看到的 `eor & (-eor)`：

- 虽然这是利用了补码特性，但它经常与异或配合。
    
- 在处理像 **LeetCode 260（两个只出现一次的数字）** 这样的题时，先用异或得到两个不同数字的异或和，再利用这个“最后一位 1”将原数组分为两组。
    

---

