 ![[Pasted image 20260219165537.png]]

![[Pasted image 20260219170130.png]]

```cpp
class Solution {

public:

    int head[101]={0};

    int next[6001]={0};

    int to[6001]={0};

    int weight[6001]={0};

    int distance[101];

    bool visited[101];

    int cnt=1;

  

    void addEdge(int u,int v,int w){

        next[cnt]=head[u];

        to[cnt]=v;

        weight[cnt]=w;

        head[u]=cnt++;

    }

  

    int networkDelayTime(vector<vector<int>>& times, int n, int k) {

        for(auto&time:times)addEdge(time[0],time[1],time[2]);

        for(int i=0;i<=n;i++){

            distance[i]=INT_MAX;

            visited[i]=false;

        }

        priority_queue< pair<int,int>,vector<pair<int,int>>,greater<pair<int,int>> >wait;

        wait.push({0,k});

        distance[k]=0;

        while(!wait.empty()){

            pair<int,int>cur=wait.top();

            wait.pop();

            int u=cur.second;

            if(visited[u])continue;

            visited[u]=true;

            for(int ei=head[u];ei!=0;ei=next[ei]){

                int v=to[ei],w=weight[ei];

                if(!visited[v]&&distance[u]+w<distance[v]){

                    distance[v]=distance[u]+w;

                    wait.push({distance[v],v});

                }

            }

        }

        int ans=0;

        for(int i=1;i<=n;i++){

            ans=max(ans,distance[i]);

            if(!visited[i])return -1;

        }

        return ans;

    }

};
```